<h1 class="page-title">Learning Progress</h1>
<p class="page-subtitle">Track your achievements and performance</p>

<!-- Progress Overview Cards -->
<div class="progress-overview">
    <div class="progress-stat-card">
        <div class="progress-stat-icon">
            <lucide-icon [img]="TrendingUp"></lucide-icon>
        </div>
        <div class="progress-stat-content">
            <p class="progress-stat-label">Overall Progress</p>
            <h3 class="progress-stat-value">{{ overallProgress }}%</h3>
            <div class="mini-progress-bar">
                <div class="mini-progress-fill" [style.width.%]="overallProgress"></div>
            </div>
        </div>
    </div>

    <div class="progress-stat-card">
        <div class="progress-stat-icon clock">
            <lucide-icon [img]="BookOpen"></lucide-icon>
        </div>
        <div class="progress-stat-content">
            <p class="progress-stat-label">Lessons Completed</p>
            <h3 class="progress-stat-value">{{ completedLessons }}</h3>
            <p class="progress-stat-sub">out of {{ totalLessons }} lessons</p>
        </div>
    </div>

    <div class="progress-stat-card">
        <div class="progress-stat-icon quiz">
            <lucide-icon [img]="Target"></lucide-icon>
        </div>
        <div class="progress-stat-content">
            <p class="progress-stat-label">Quiz Average</p>
            <h3 class="progress-stat-value">{{ quizAverage }}%</h3>
            <p class="progress-stat-sub">{{ completedQuizzes }} quizzes completed</p>
        </div>
    </div>
</div>

<!-- Course Progress Section -->
<div class="progress-section">
    <div class="progress-section-header">
        <h2 class="progress-section-title">Course Progress</h2>
        <p class="progress-section-subtitle">Track your completion status for each course</p>
    </div>

    <div class="course-progress-list">
        <div class="course-progress-item" *ngFor="let course of courseProgress">
            <div class="course-progress-info">
                <div class="course-progress-icon" [style.background]="course.color">
                    {{ course.title.charAt(0) }}
                </div>
                <div class="course-progress-details">
                    <h4 class="course-progress-title">{{ course.title }}</h4>
                    <p class="course-progress-stats">
                        {{ course.completedLessons }}/{{ course.totalLessons }} lessons â€¢
                        {{ course.completedQuizzes }}/{{ course.totalQuizzes }} quizzes
                    </p>
                </div>
            </div>
            <div class="course-progress-bar-container">
                <div class="course-progress-bar">
                    <div class="course-progress-bar-fill" [style.width.%]="course.progress"
                        [style.background]="course.color"></div>
                </div>
                <span class="course-progress-percentage">{{ course.progress }}%</span>
            </div>
        </div>
    </div>
</div>

<!-- Quiz Performance -->
<div class="progress-section">
    <div class="progress-section-header">
        <h2 class="progress-section-title">Quiz Performance</h2>
        <p class="progress-section-subtitle">Your quiz scores and improvement trends</p>
    </div>

    <div class="quiz-performance-list">
        <div class="quiz-performance-item" *ngFor="let quiz of quizPerformance">
            <div class="quiz-performance-header">
                <div class="quiz-performance-info">
                    <h4 class="quiz-performance-title">{{ quiz.title }}</h4>
                    <p class="quiz-performance-course">{{ quiz.course }}</p>
                </div>
                <div class="quiz-performance-score" [class.excellent]="quiz.score >= 90"
                    [class.good]="quiz.score >= 70 && quiz.score < 90" [class.fair]="quiz.score < 70">
                    {{ quiz.score }}%
                </div>
            </div>
            <div class="quiz-performance-meta">
                <span class="quiz-performance-date">
                    <lucide-icon [img]="Calendar" [size]="14"></lucide-icon>
                    {{ quiz.date }}
                </span>
                <span class="quiz-performance-attempts">{{ quiz.attempts }} attempt{{ quiz.attempts > 1 ? 's' : ''
                    }}</span>
            </div>
        </div>
    </div>
</div>